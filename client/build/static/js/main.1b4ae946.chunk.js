(this.webpackJsonpmentorapp=this.webpackJsonpmentorapp||[]).push([[0],{116:function(e,t,a){},121:function(e,t,a){},124:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(24),r=a.n(s),o=(a(115),a(116),a(6)),l=a(10),i=a(17),d=a(12),u=a(25),j=Object(u.c)({name:"admin",initialState:[],reducers:{login:function(e,t){console.log(e)},loginSuccessful:function(e,t){if(console.log("item available"),console.log(localStorage.getItem("userId")),localStorage.getItem("userId")){return Object(o.a)(Object(o.a)({},e),{loggedIn:!0})}},logout:function(e,t){return localStorage.removeItem("userId"),Object(o.a)(Object(o.a)({},e),{loggedIn:!1})}}}),b=j.actions,m=b.login,O=b.loginSuccessful,f=b.logout,p=j.reducer,h=a(21),x=(a(121),a(1));function g(e){e.authenticated,e.location;var t=Object(d.d)(),a=Object(h.f)(),c=Object(d.e)((function(e){return e.login.loggedIn})),s=Object(n.useState)({username:"",password:""}),r=Object(i.a)(s,2),u=r[0],j=r[1];Object(n.useEffect)((function(){t(O(u)),c&&a.push("/dashboard")}),[c]);var b=function(e){j((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))};return Object(x.jsx)("div",{className:"container-fluid h-100",children:Object(x.jsx)("div",{className:"row h-100 justify-content-center align-items-center",children:Object(x.jsx)("div",{className:"card p-3 mb-5 bg-white",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"row card-title loginTitle",children:"Login"}),Object(x.jsxs)("form",{children:[Object(x.jsx)("div",{className:"form-group row",children:Object(x.jsx)("input",{type:"text",className:"form-control",id:"email",placeholder:"Enter email",name:"username",value:u.username,onChange:b})}),Object(x.jsx)("div",{className:"form-group row",children:Object(x.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",name:"password",value:u.password,onChange:b})}),Object(x.jsx)("div",{className:"form-group row",children:Object(x.jsx)("button",{type:"button",className:"btn btn-primary btnColor form-control",onClick:function(e){t(m(u)),a.push("/dashboard")},children:"Login"})})]})]})})})})}a(124);var k=a(8),v=a(20),y=a(109),N=a(13),w=a.n(N),C=a(103);function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var S=Object(u.b)("counter/fetchCount",function(){var e=Object(C.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=Object(u.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(S.pending,(function(e){e.status="loading"})).addCase(S.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),A=E.actions,I=(A.increment,A.decrement,A.incrementByAmount,E.reducer,a(11)),_=a(30),F=a.n(_);function H(e){return console.log("login"+e.payload),F.a.post("/login",e.payload)}var L=w.a.mark(B);function B(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(e),a.next=4,Object(I.a)(H,e);case 4:if(t=a.sent,console.log(t.data),"No user found"===t.data){a.next=12;break}return localStorage.setItem("userId",t.data._id),a.next=10,Object(I.c)(O(t.data));case 10:a.next=13;break;case 12:throw"No user found";case 13:a.next=20;break;case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0),localStorage.removeItem("userId"),f();case 20:case"end":return a.stop()}}),L,null,[[0,15]])}var M=a(15),P=Object(u.c)({name:"tasks",initialState:{tasks:[],task:{},taskStatus:""},reducers:{getTasks:function(){},postTasks:function(){},putTasks:function(){},updateTasks:function(e,t){console.log(Object(M.a)(e.tasks)),Array.isArray(t.payload)?(e.tasks=t.payload,e.taskStatus=""):"string"===typeof t.payload?(e.taskStatus=t.payload.taskStatus,e.tasks=[]):(e.taskStatus="",e.tasks=[].concat(Object(k.a)(e.tasks),[t.payload]))},updateTask:function(e,t){console.log(t.payload),e.taskStatus="",e.tasks=e.tasks.map((function(e){return e._id===t.payload._id?Object(o.a)(Object(o.a)({},e),{},{task:t.payload.task,completed:t.payload.completed,createdAt:t.payload.createdAt,updatedAt:t.payload.updatedAt}):e}))},deleteTasks:function(){},removeTasks:function(e,t){return{tasks:Object(k.a)(e.tasks.filter((function(e){return e._id!==t.payload._id}))),taskStatus:""}},getTask:function(e,t){console.log(t),e.task=e.tasks.filter((function(e){return e._id===t.payload}))[0]}}}),W=P.actions,q=W.getTasks,D=W.updateTasks,z=W.deleteTasks,J=W.postTasks,R=W.removeTasks,U=W.getTask,$=W.putTasks,Y=W.updateTask,Z=P.reducer;function G(e){return console.log(e.payload),e.payload?F.a.get("/tasks?name=".concat(e.payload)):F.a.get("/tasks")}function K(e){return console.log("task post"+e),F.a.post("/tasks",e.payload)}function Q(e){return console.log("task put"+e),F.a.put("/tasks/".concat(e.payload._id),e.payload)}function V(e){return console.log("task delete"+e.payload),F.a.delete("/tasks/".concat(e.payload))}var X=w.a.mark(ne),ee=w.a.mark(ce),te=w.a.mark(se),ae=w.a.mark(re);function ne(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!e.payload){a.next=4;break}return a.next=4,Object(I.b)(300);case 4:return a.next=6,Object(I.a)(G,e);case 6:return t=a.sent,console.log(t.data),a.next=10,Object(I.c)(D(t.data));case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0);case 15:case"end":return a.stop()}}),X,null,[[0,12]])}function ce(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(e),a.next=4,Object(I.a)(K,e);case 4:return t=a.sent,a.next=7,Object(I.c)(D(t.data));case 7:console.log(t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),ee,null,[[0,10]])}function se(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(e),a.next=4,Object(I.a)(Q,e);case 4:return t=a.sent,a.next=7,Object(I.c)(Y(t.data));case 7:console.log(t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),te,null,[[0,10]])}function re(e){var t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(e),a.next=4,Object(I.a)(V,e);case 4:return t=a.sent,a.next=7,Object(I.c)(R(t.data));case 7:console.log(t),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),ae,null,[[0,10]])}var oe=w.a.mark(le);function le(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.d)(m,B);case 2:return e.next=4,Object(I.d)(q,ne);case 4:return e.next=6,Object(I.d)(J,ce);case 6:return e.next=8,Object(I.d)(z,re);case 8:return e.next=10,Object(I.d)($,se);case 10:case"end":return e.stop()}}),oe)}var ie=a(27),de=a(52),ue=a(81),je=Object(y.a)(),be=Object(ie.a)(),me=Object(v.c)({router:Object(de.b)(be),login:p,tasks:Z}),Oe=Object(u.a)({reducer:me,middleware:[].concat(Object(k.a)(Object(u.d)({thunk:!1})),[je,Object(ue.a)(be)])});je.run(le);var fe=a(108);a(249);function pe(e){var t=e.completedTasks,a=e.tasks,c=Object(n.useState)({labels:["Completed","Pending"],datasets:[{label:"# of Tasks",backgroundColor:["#5285EC","#E8ECEC"],borderColor:["#F4F4F6","#F4F4F6"],borderWidth:1}]}),s=Object(i.a)(c,2),r=s[0],l=s[1];return Object(n.useEffect)((function(){console.log(t,a);var e=Object(o.a)({},r);e.datasets[0].data=[t,a-t],r.datasets&&l((function(t){return Object(o.a)(Object(o.a)({},t),e)})),console.log(r)}),[t,a]),Object(x.jsx)("div",{className:"chart-container",children:Object(x.jsx)(fe.a,{data:r,options:{responsive:!0,maintainAspectRatio:!1}})})}a(250);var he=a(255);function xe(e){console.log(e.task);var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(d.d)();return Object(n.useEffect)((function(){console.log(e.task),e.task?s(e.task.task):s("")}),[e.task]),Object(x.jsxs)(he.a,Object(o.a)(Object(o.a)({},e),{},{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(x.jsx)(he.a.Header,{closeButton:!0,children:Object(x.jsx)(he.a.Title,{id:"contained-modal-title-vcenter",children:Object(x.jsx)("p",{className:"taskHeader",children:e.task?"Edit Task":"+New Task"})})}),Object(x.jsxs)(he.a.Body,{children:[Object(x.jsx)("div",{className:"form-group col-md-12",children:Object(x.jsx)("input",{type:"text",className:"form-control",id:"email",placeholder:"Enter task",name:"task",value:c,onChange:function(e){return s(e.target.value)}})}),Object(x.jsx)("div",{className:"form-group col-md-12 ",children:Object(x.jsx)("button",{type:"button",className:"btn btn-primary btnColor form-control",onClick:function(){var t={_id:e.task?e.task._id:void 0,task:c,completed:!1};e.task?r($(t)):r(J(t)),e.onHide()},children:e.task?"Edit Task":"+New Task"})})]})]}))}function ge(){var e=Object(d.d)(),t=(Object(h.f)(),Object(d.e)((function(e){return e.tasks.tasks}))),a=Object(d.e)((function(e){return e.tasks.taskStatus})),s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],u=r[1],j=Object(n.useState)([]),b=Object(i.a)(j,2),m=b[0],O=b[1],p=Object(n.useState)(null),g=Object(i.a)(p,2),v=g[0],y=g[1],N=t.length,w=t.filter((function(e,t){return e.completed})).length;Object(n.useEffect)((function(){e(q())}),[]);var C=function(e){y(e),u(!0)};return Object(n.useEffect)((function(){console.log(t);var e=Object(k.a)(t);e.sort((function(e,t){return e.createdAt<t.createdAt?1:t.createdAt<e.createdAt?-1:0}));var a=e.slice(0,3);console.log(a),O((function(e){return Object(k.a)(a)}))}),[t]),Object(x.jsxs)("div",{className:"container-fluid",children:[Object(x.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(x.jsx)("h5",{children:"Welcome"}),Object(x.jsx)("div",{className:"ml-auto",children:Object(x.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(t){t.preventDefault(),e(f())},children:"Logout"})})]}),t.length>0||""!==a?Object(x.jsxs)(c.a.Fragment,{children:[Object(x.jsxs)("div",{className:"row justify-content-center align-items-center",children:[Object(x.jsx)("div",{className:"card topcards col-sm-12 col-md-3 p-3 mb-2 mb-sm-0  ml-md-2 mt-5 bg-white ",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"cardtitle",children:"Tasks Completed"}),Object(x.jsx)("span",{children:Object(x.jsxs)("h2",{children:[w,"/",N]})})]})}),Object(x.jsx)("div",{className:"card topcards col-sm-12 col-md-3 p-3 ml-md-2 mb-2 mb-sm-0 mt-md-5 bg-white",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"cardtitle",children:" Latest Tasks Created"}),Object(x.jsx)("ul",{children:m.length>0?m.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsx)("span",{className:!0===e.completed?"lineText":"textColor",children:e.task})},e._id)})):null})]})}),Object(x.jsx)("div",{className:"card topcards col-sm-12 col-md-3 p-3 ml-md-2 mb-2 mb-sm-0  mt-md-5 bg-white",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)(pe,{completedTasks:w,tasks:t.length})})})]}),Object(x.jsxs)("div",{className:"row offset-md-1 col-md-9 col-sm-12 mt-5",children:[Object(x.jsx)("span",{className:"taskHeader offset-md-1 col-md-3 col-sm-12 mb-2 mb-sm-0",children:"Tasks"}),Object(x.jsx)("input",{type:"text",className:"form-control col-md-2 col-sm-12 ml-md-auto mb-2 mb-sm-0",id:"task",placeholder:"search task",name:"task",onChange:function(t){console.log(t.target.value),e(q(t.target.value))}}),Object(x.jsx)("button",{className:"btn btn-primary btnColor ml-md-2 ml-sm-0 col-md-2 col-sm-12 mt-md-0 mt-sm-2 mb-2 mb-sm-0 ",onClick:function(){return C(null)},children:"New task"}),Object(x.jsx)(xe,{show:l,task:v,onHide:function(){return u(!1)}})]}),Object(x.jsx)("div",{className:"row justify-content-center align-items-center",children:Object(x.jsx)("div",{className:"card col-md-9 mt-3",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)("div",{children:t.length>0?t.map((function(a,n){return Object(x.jsxs)("div",{className:"row underline col-md-12 col-sm-12 mt-3",children:[Object(x.jsxs)("div",{className:"checkbox",children:[Object(x.jsx)("input",{type:"checkbox",checked:a.completed,onChange:function(t){return function(t,a){console.log(t.target.checked),console.log(a);var n=Object(o.a)({},a);n.completed=t.target.checked,console.log(n),e($(n))}(t,a)}}),Object(x.jsxs)("span",{className:!0===a.completed?"taskHeaderwithline col-md-3 col-sm-12":"taskHeader col-md-3 col-sm-12",children:[" ",a.task]})]}),Object(x.jsxs)("div",{className:"ml-md-auto",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-default","aria-label":"Left Align",onClick:function(){return function(a){var n=t[a]._id;e(z(n))}(n)},children:Object(x.jsx)("span",{className:"fa fa-trash-o fa-lg","aria-hidden":"true"})}),Object(x.jsx)("button",{type:"button",className:"btn btn-default","aria-label":"Left Align",disabled:a.completed,onClick:function(){return C(a)},children:Object(x.jsx)("span",{className:"fa fa-edit fa-lg","aria-hidden":"true"})})]})]},n+"task")})):null})})})})]}):Object(x.jsxs)("div",{className:"row notaskCard justify-content-center align-items-center",children:[Object(x.jsx)("div",{className:"card p-3 mb-5 bg-white",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"row card-title loginTitle",children:"You have no tasks"}),Object(x.jsx)("button",{className:"btn btn-primary btnColor ml-md-2 ml-sm-0 col-md-12 col-sm-12 mt-md-0 mt-sm-2 mb-2 mb-sm-0",onClick:function(){return C(null)},children:"New task"})]})}),Object(x.jsx)(xe,{show:l,task:v,onHide:function(){return u(!1)}})]})]})}var ke=a(110);var ve=function(e){var t=e.authenticated,a=e.component,n=e.render,c=Object(ke.a)(e,["authenticated","component","render"]);return Object(x.jsx)(h.b,Object(o.a)(Object(o.a)({},c),{},{render:function(e){return t?n?n(e):Object(x.jsx)(a,Object(o.a)({},e)):Object(x.jsx)(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var ye=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Page you are requesting is not found"}),Object(x.jsx)("p",{children:"404."})]})};function Ne(){var e=Object(d.d)(),t=Object(h.g)().id,a=Object(h.f)(),c=Object(d.e)((function(e){return e.mentors.mentor})),s=Object(n.useState)({email:"",name:"",task:""}),r=Object(i.a)(s,2),u=r[0],j=r[1],b=Object(n.useState)({}),m=Object(i.a)(b,2),O=m[0],f=m[1],p=Object(n.useState)([]),g=Object(i.a)(p,2),v=g[0],y=g[1];Object(n.useEffect)((function(){console.log(t),t&&e(U(t))}),[]),Object(n.useEffect)((function(){c&&Object.keys(c).length>0&&t&&(j((function(e){return Object(o.a)(Object(o.a)({},e),{},{email:c.email,name:c.name,task:""})})),c.tasks.length>0&&(console.log(c.tasks.length),y((function(e){return[].concat(Object(k.a)(e),Object(k.a)(c.tasks))}))))}),[c]),console.log(v);var N=function(e){j((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))};return Object(x.jsx)("div",{className:"container-fluid h-100",children:Object(x.jsx)("div",{className:"row h-100 justify-content-center align-items-center",children:Object(x.jsx)("div",{className:"card col-6 shadow p-3 mb-5 bg-white",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h5",{className:"row card-title",children:t?"Update Mentor":"Add New Mentor"}),Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-group row",children:[Object(x.jsx)("input",{type:"text",className:"form-control",id:"email",placeholder:"Enter email",name:"email",value:u.email,onChange:N,required:!0}),Object(x.jsx)("span",{style:{color:"red"},children:O.email})]}),Object(x.jsxs)("div",{className:"form-group row",children:[Object(x.jsx)("input",{type:"name",className:"form-control",id:"name",placeholder:"Enter Name",name:"name",value:u.name,onChange:N,required:!0}),Object(x.jsx)("span",{style:{color:"red"},children:O.name})]}),Object(x.jsx)("div",{className:"form-group row",children:v.length>0?Object(x.jsx)("p",{children:"List of tasks added"}):null}),Object(x.jsx)("div",{className:"form-group row",children:Object(x.jsx)("ol",{children:v.length>0?v.map((function(e,t){return Object(x.jsx)("li",{children:e},t)})):"No tasks added"})}),Object(x.jsx)("div",{className:"form-group row",children:Object(x.jsx)("input",{type:"name",className:"form-control",id:"task",placeholder:"Enter Task",name:"task",value:u.task,onChange:N})}),Object(x.jsxs)("div",{className:"form-group row justify-content-around",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-info form-control col-5 px-md-5",onClick:function(){""===u.task?alert("Task cannot be empty"):(y((function(e){return[].concat(Object(k.a)(e),[u.task])})),j((function(e){return Object(o.a)(Object(o.a)({},e),{},{task:""})})))},children:"Add new task"}),Object(x.jsx)("button",{type:"button",className:"btn btn-primary form-control col-5",onClick:function(n){if(n.preventDefault(),function(){var e={},t=!0;if(u.name||(t=!1,e.name="Cannot be empty"),"undefined"!==typeof u.name&&(u.name.match(/^[a-zA-Z]+$/)||(t=!1,e.name="Only letters")),u.email||(t=!1,e.email="Cannot be empty"),"undefined"!==typeof u.email){var a=u.email.lastIndexOf("@"),n=u.email.lastIndexOf(".");a<n&&a>0&&-1===u.email.indexOf("@@")&&n>2&&u.email.length-n>2||(t=!1,e.email="Email is not valid")}return f((function(t){return Object(o.a)(Object(o.a)({},t),{},{name:e.name,email:e.email})})),console.log(e),t}()){var c={name:u.name,tasks:v,email:u.email};t?(c._id=t,e($(c))):e(J(c)),a.push("/dashboard")}},children:t?"Update Mentor":"Add New Mentor"})]})]})]})})})})}var we=function(){var e=Object(d.e)((function(e){return e.login.loggedIn}));return Object(x.jsx)(de.a,{history:be,children:Object(x.jsxs)(h.d,{children:[Object(x.jsx)(h.a,{exact:!0,from:"/",to:"login"}),Object(x.jsx)(h.b,{path:"/login",render:function(t){return Object(x.jsx)(g,Object(o.a)({authenticated:e},t))}}),Object(x.jsx)(ve,{authenticated:e,path:"/Dashboard",render:function(e){return Object(x.jsx)(ge,Object(o.a)({},e))}}),Object(x.jsx)(ve,{authenticated:e,path:"/task/:id?",render:function(e){return Object(x.jsx)(Ne,Object(o.a)({},e))}}),Object(x.jsx)(h.b,{component:ye})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(d.a,{store:Oe,children:Object(x.jsx)(we,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[252,1,2]]]);
//# sourceMappingURL=main.1b4ae946.chunk.js.map